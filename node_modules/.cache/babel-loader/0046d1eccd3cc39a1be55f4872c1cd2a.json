{"ast":null,"code":"import _typeof from \"/home/its/project/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.symbol.iterator.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.keys.js\";\n\nfunction n(e) {\n  return (n = \"function\" == typeof Symbol && \"symbol\" == _typeof(Symbol.iterator) ? function (n) {\n    return _typeof(n);\n  } : function (n) {\n    return n && \"function\" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? \"symbol\" : _typeof(n);\n  })(e);\n}\n\nvar e = function e(n) {\n  return void 0 === n;\n},\n    t = function t(n) {\n  return Array.isArray(n);\n},\n    o = function o(n) {\n  return n && \"number\" == typeof n.size && \"string\" == typeof n.type && \"function\" == typeof n.slice;\n};\n\nexport default function r(i, s, f, u) {\n  if ((s = s || {}).indices = !e(s.indices) && s.indices, s.booleansAsIntegers = !e(s.booleansAsIntegers) && s.booleansAsIntegers, s.nullsAsUndefineds = !e(s.nullsAsUndefineds) && s.nullsAsUndefineds, f = f || new FormData(), e(i)) return f;\n  if (null === i) s.nullsAsUndefineds || f.append(u, \"\");else if (t(i)) {\n    if (i.length) i.forEach(function (n, e) {\n      var t = u + \"[\" + (s.indices ? e : \"\") + \"]\";\n      r(n, s, f, t);\n    });else {\n      var l = u + \"[]\";\n      f.append(l, \"\");\n    }\n  } else !function (n) {\n    return n instanceof Date;\n  }(i) ? !function (n) {\n    return \"boolean\" == typeof n;\n  }(i) ? !function (n) {\n    return n === Object(n);\n  }(i) || function (e) {\n    return o(e) && \"string\" == typeof e.name && (\"object\" === n(e.lastModifiedDate) || \"number\" == typeof e.lastModified);\n  }(i) || o(i) ? f.append(u, i) : Object.keys(i).forEach(function (n) {\n    var e = i[n];\n    if (t(e)) for (; n.length > 2 && n.lastIndexOf(\"[]\") === n.length - 2;) {\n      n = n.substring(0, n.length - 2);\n    }\n    r(e, s, f, u ? u + \"[\" + n + \"]\" : n);\n  }) : s.booleansAsIntegers ? f.append(u, i ? 1 : 0) : f.append(u, i) : f.append(u, i.toISOString());\n  return f;\n}","map":{"version":3,"mappings":"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","names":["isUndefined","value","undefined","isArray","Array","isBlob","size","type","slice","objectToFormData","obj","cfg","fd","pre","indices","booleansAsIntegers","nullsAsUndefineds","FormData","append","length","forEach","index","key","Date","isDate","isBoolean","Object","isObject","name","_typeof","lastModifiedDate","lastModified","isFile","keys","prop","lastIndexOf","substring","toISOString"],"sources":["../src/index.js"],"sourcesContent":["const isUndefined = value => value === undefined\n\nconst isNull = value => value === null\n\nconst isObject = value => value === Object(value)\n\nconst isArray = value => Array.isArray(value)\n\nconst isDate = value => value instanceof Date\n\nconst isBoolean = value => typeof value === 'boolean'\n\nconst isBlob = value =>\n  value &&\n  typeof value.size === 'number' &&\n  typeof value.type === 'string' &&\n  typeof value.slice === 'function'\n\nconst isFile = value =>\n  isBlob(value) &&\n  typeof value.name === 'string' &&\n  (typeof value.lastModifiedDate === 'object' ||\n    typeof value.lastModified === 'number')\n\nconst objectToFormData = (obj, cfg, fd, pre) => {\n  cfg = cfg || {}\n  cfg.indices = isUndefined(cfg.indices) ? false : cfg.indices\n  cfg.booleansAsIntegers = isUndefined(cfg.booleansAsIntegers) ? false : cfg.booleansAsIntegers\n  cfg.nullsAsUndefineds = isUndefined(cfg.nullsAsUndefineds) ? false : cfg.nullsAsUndefineds\n  fd = fd || new FormData()\n\n  if (isUndefined(obj)) {\n    return fd\n  } else if (isNull(obj)) {\n    if (!cfg.nullsAsUndefineds) {\n      fd.append(pre, '')\n    }\n  } else if (isArray(obj)) {\n    if (!obj.length) {\n      const key = pre + '[]'\n\n      fd.append(key, '')\n    } else {\n      obj.forEach((value, index) => {\n        const key = pre + '[' + (cfg.indices ? index : '') + ']'\n\n        objectToFormData(value, cfg, fd, key)\n      })\n    }\n  } else if (isDate(obj)) {\n    fd.append(pre, obj.toISOString())\n  } else if (isBoolean(obj)) {\n    if (cfg.booleansAsIntegers) {\n      fd.append(pre, obj ? 1 : 0)\n    } else {\n      fd.append(pre, obj)\n    }\n  } else if (isObject(obj) && !isFile(obj) && !isBlob(obj)) {\n    Object.keys(obj).forEach(prop => {\n      const value = obj[prop]\n\n      if (isArray(value)) {\n        while (prop.length > 2 && prop.lastIndexOf('[]') === prop.length - 2) {\n          prop = prop.substring(0, prop.length - 2)\n        }\n      }\n\n      const key = pre ? pre + '[' + prop + ']' : prop\n\n      objectToFormData(value, cfg, fd, key)\n    })\n  } else {\n    fd.append(pre, obj)\n  }\n\n  return fd\n}\n\nexport default objectToFormData\n"]},"metadata":{},"sourceType":"module"}