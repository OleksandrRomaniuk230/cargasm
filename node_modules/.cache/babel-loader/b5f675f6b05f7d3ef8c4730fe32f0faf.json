{"ast":null,"code":"import _defineProperty from \"/home/its/project/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _regeneratorRuntime from \"/home/its/project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/its/project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport Cookie from 'js-cookie';\nvar SET_TOKEN = 'SET_TOKEN';\nexport default {\n  namespaced: true,\n  state: {\n    access_token: Cookie.get('access_token') || null\n  },\n  getters: {\n    access_token: function access_token(state) {\n      return state.access_token;\n    }\n  },\n  actions: _defineProperty({\n    login: function login(_ref, payload) {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var dispatch, commit, data;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                dispatch = _ref.dispatch, commit = _ref.commit;\n                _context.next = 3;\n                return _this.$api.auth.login(payload);\n\n              case 3:\n                data = _context.sent;\n                _context.next = 6;\n                return commit('SET_TOKEN', data.data);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    }\n  }, \"login\", function login(_ref2, payload) {\n    var _this2 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var dispatch, commit, data;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              dispatch = _ref2.dispatch, commit = _ref2.commit;\n              _context2.next = 3;\n              return _this2.$api.auth.logout(payload);\n\n            case 3:\n              data = _context2.sent;\n              commit('LOGAUT');\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n  }),\n  mutations: _defineProperty({}, SET_TOKEN, function (state, payload) {\n    if (payload.access_token !== undefined) {\n      Cookie.set('access_token', payload.access_token);\n      state.access_token = payload.access_token;\n    }\n  })\n};","map":{"version":3,"names":["Cookie","SET_TOKEN","namespaced","state","access_token","get","getters","actions","login","payload","dispatch","commit","$api","auth","data","logout","mutations","undefined","set"],"sources":["/home/its/project/src/store/auth.js"],"sourcesContent":["import Cookie from 'js-cookie';\n\nconst SET_TOKEN = 'SET_TOKEN'\n\n\nexport default {\n  namespaced: true,\n  state: {\n    access_token: Cookie.get('access_token') || null,\n  },\n\n  getters: {\n    access_token: state => state.access_token,\n  },\n\n  actions: {\n    async login({dispatch, commit}, payload) {\n      let  data  = await this.$api.auth.login(payload)\n      await commit('SET_TOKEN', data.data)\n    },\n    async login({dispatch, commit}, payload) {\n      let  data  = await this.$api.auth.logout(payload)\n      commit('LOGAUT')\n    },\n  },\n  mutations: {\n    [SET_TOKEN](state, payload) {\n     \n      if (payload.access_token !== undefined) {\n        Cookie.set('access_token', payload.access_token)\n        state.access_token = payload.access_token\n      }\n    },\n  },\n};"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,WAAnB;AAEA,IAAMC,SAAS,GAAG,WAAlB;AAGA,eAAe;EACbC,UAAU,EAAE,IADC;EAEbC,KAAK,EAAE;IACLC,YAAY,EAAEJ,MAAM,CAACK,GAAP,CAAW,cAAX,KAA8B;EADvC,CAFM;EAMbC,OAAO,EAAE;IACPF,YAAY,EAAE,sBAAAD,KAAK;MAAA,OAAIA,KAAK,CAACC,YAAV;IAAA;EADZ,CANI;EAUbG,OAAO;IACCC,KADD,uBAC2BC,OAD3B,EACoC;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAA5BC,QAA4B,QAA5BA,QAA4B,EAAlBC,MAAkB,QAAlBA,MAAkB;gBAAA;gBAAA,OACpB,KAAI,CAACC,IAAL,CAAUC,IAAV,CAAeL,KAAf,CAAqBC,OAArB,CADoB;;cAAA;gBAClCK,IADkC;gBAAA;gBAAA,OAEjCH,MAAM,CAAC,WAAD,EAAcG,IAAI,CAACA,IAAnB,CAF2B;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAGxC;EAJI,kCAK2BL,OAL3B,EAKoC;IAAA;;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAA5BC,QAA4B,SAA5BA,QAA4B,EAAlBC,MAAkB,SAAlBA,MAAkB;cAAA;cAAA,OACpB,MAAI,CAACC,IAAL,CAAUC,IAAV,CAAeE,MAAf,CAAsBN,OAAtB,CADoB;;YAAA;cAClCK,IADkC;cAEvCH,MAAM,CAAC,QAAD,CAAN;;YAFuC;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAGxC,CARI,CAVM;EAoBbK,SAAS,sBACNf,SADM,YACKE,KADL,EACYM,OADZ,EACqB;IAE1B,IAAIA,OAAO,CAACL,YAAR,KAAyBa,SAA7B,EAAwC;MACtCjB,MAAM,CAACkB,GAAP,CAAW,cAAX,EAA2BT,OAAO,CAACL,YAAnC;MACAD,KAAK,CAACC,YAAN,GAAqBK,OAAO,CAACL,YAA7B;IACD;EACF,CAPM;AApBI,CAAf"},"metadata":{},"sourceType":"module"}