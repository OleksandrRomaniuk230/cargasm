{"ast":null,"code":"import _defineProperty from \"/home/its/project/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _regeneratorRuntime from \"/home/its/project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/its/project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\nvar _mutations;\n\nimport Cookie from 'js-cookie';\nvar SET_TOKEN = 'SET_TOKEN';\nvar LOGAUT = 'LOGAUT';\nexport default {\n  namespaced: true,\n  state: {\n    access_token: Cookie.get('access_token') || null\n  },\n  getters: {\n    access_token: function access_token(state) {\n      return state.access_token;\n    }\n  },\n  actions: {\n    login: function login(_ref, payload) {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var dispatch, commit, data;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                dispatch = _ref.dispatch, commit = _ref.commit;\n                _context.next = 3;\n                return _this.$api.auth.login(payload);\n\n              case 3:\n                data = _context.sent;\n                _context.next = 6;\n                return commit('SET_TOKEN', data.data);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    logout: function logout(_ref2, payload) {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var dispatch, commit, data;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                dispatch = _ref2.dispatch, commit = _ref2.commit;\n                _context2.next = 3;\n                return _this2.$api.auth.logout(payload);\n\n              case 3:\n                data = _context2.sent;\n                commit('LOGAUT');\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    }\n  },\n  mutations: (_mutations = {}, _defineProperty(_mutations, SET_TOKEN, function (state, payload) {\n    if (payload.access_token !== undefined) {\n      Cookie.set('access_token', payload.access_token);\n      state.access_token = payload.access_token;\n    }\n  }), _defineProperty(_mutations, LOGAUT, function (state) {\n    Cookie.remove('token');\n    state.token = null;\n  }), _mutations)\n};","map":{"version":3,"names":["Cookie","SET_TOKEN","LOGAUT","namespaced","state","access_token","get","getters","actions","login","payload","dispatch","commit","$api","auth","data","logout","mutations","undefined","set","remove","token"],"sources":["/home/its/project/src/store/auth.js"],"sourcesContent":["import Cookie from 'js-cookie';\n\nconst SET_TOKEN = 'SET_TOKEN'\nconst LOGAUT = 'LOGAUT'\n\nexport default {\n  namespaced: true,\n  state: {\n    access_token: Cookie.get('access_token') || null,\n  },\n\n  getters: {\n    access_token: state => state.access_token,\n  },\n\n  actions: {\n    async login({dispatch, commit}, payload) {\n      let  data  = await this.$api.auth.login(payload)\n      await commit('SET_TOKEN', data.data)\n    },\n    async logout({dispatch, commit}, payload) {\n      let  data  = await this.$api.auth.logout(payload)\n      commit('LOGAUT')\n    },\n  },\n  mutations: {\n    [SET_TOKEN](state, payload) {\n     \n      if (payload.access_token !== undefined) {\n        Cookie.set('access_token', payload.access_token)\n        state.access_token = payload.access_token\n      }\n    },\n    [LOGAUT](state) {\n      Cookie.remove('token')\n      state.token = null\n    }\n\n\n  },\n};"],"mappings":";;;;;;AAAA,OAAOA,MAAP,MAAmB,WAAnB;AAEA,IAAMC,SAAS,GAAG,WAAlB;AACA,IAAMC,MAAM,GAAG,QAAf;AAEA,eAAe;EACbC,UAAU,EAAE,IADC;EAEbC,KAAK,EAAE;IACLC,YAAY,EAAEL,MAAM,CAACM,GAAP,CAAW,cAAX,KAA8B;EADvC,CAFM;EAMbC,OAAO,EAAE;IACPF,YAAY,EAAE,sBAAAD,KAAK;MAAA,OAAIA,KAAK,CAACC,YAAV;IAAA;EADZ,CANI;EAUbG,OAAO,EAAE;IACDC,KADC,uBACyBC,OADzB,EACkC;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAA5BC,QAA4B,QAA5BA,QAA4B,EAAlBC,MAAkB,QAAlBA,MAAkB;gBAAA;gBAAA,OACpB,KAAI,CAACC,IAAL,CAAUC,IAAV,CAAeL,KAAf,CAAqBC,OAArB,CADoB;;cAAA;gBAClCK,IADkC;gBAAA;gBAAA,OAEjCH,MAAM,CAAC,WAAD,EAAcG,IAAI,CAACA,IAAnB,CAF2B;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAGxC,CAJM;IAKDC,MALC,yBAK0BN,OAL1B,EAKmC;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAA5BC,QAA4B,SAA5BA,QAA4B,EAAlBC,MAAkB,SAAlBA,MAAkB;gBAAA;gBAAA,OACrB,MAAI,CAACC,IAAL,CAAUC,IAAV,CAAeE,MAAf,CAAsBN,OAAtB,CADqB;;cAAA;gBACnCK,IADmC;gBAExCH,MAAM,CAAC,QAAD,CAAN;;cAFwC;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAGzC;EARM,CAVI;EAoBbK,SAAS,gDACNhB,SADM,YACKG,KADL,EACYM,OADZ,EACqB;IAE1B,IAAIA,OAAO,CAACL,YAAR,KAAyBa,SAA7B,EAAwC;MACtClB,MAAM,CAACmB,GAAP,CAAW,cAAX,EAA2BT,OAAO,CAACL,YAAnC;MACAD,KAAK,CAACC,YAAN,GAAqBK,OAAO,CAACL,YAA7B;IACD;EACF,CAPM,+BAQNH,MARM,YAQEE,KARF,EAQS;IACdJ,MAAM,CAACoB,MAAP,CAAc,OAAd;IACAhB,KAAK,CAACiB,KAAN,GAAc,IAAd;EACD,CAXM;AApBI,CAAf"},"metadata":{},"sourceType":"module"}