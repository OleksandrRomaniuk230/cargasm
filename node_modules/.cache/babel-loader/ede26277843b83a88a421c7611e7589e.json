{"ast":null,"code":"import _defineProperty from \"/home/its/project/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _regeneratorRuntime from \"/home/its/project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/its/project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport Cookie from 'js-cookie';\nvar SET_TOKEN = 'SET_TOKEN';\nexport default {\n  namespaced: true,\n  state: {\n    token: Cookie.get('token') || null\n  },\n  getters: {\n    token: function token(state) {\n      return state.token;\n    }\n  },\n  actions: {\n    login: function login(_ref, payload) {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var dispatch, commit, data;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                dispatch = _ref.dispatch, commit = _ref.commit;\n                _context.next = 3;\n                return _this.$api.auth.login(payload);\n\n              case 3:\n                data = _context.sent;\n                _context.next = 6;\n                return commit('SET_TOKEN', data.data);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    }\n  },\n  mutations: _defineProperty({}, SET_TOKEN, function (state, payload) {\n    if (payload.access_token !== undefined) {\n      Cookie.set('token', payload.access_token);\n      state.token = payload.access_token;\n    }\n  })\n};","map":{"version":3,"names":["Cookie","SET_TOKEN","namespaced","state","token","get","getters","actions","login","payload","dispatch","commit","$api","auth","data","mutations","access_token","undefined","set"],"sources":["/home/its/project/src/store/auth.js"],"sourcesContent":["import Cookie from 'js-cookie';\n\nconst SET_TOKEN = 'SET_TOKEN'\n\n\nexport default {\n  namespaced: true,\n  state: {\n      token: Cookie.get('token') || null,\n  },\n\n  getters: {\n    token: state => state.token,\n  },\n\n  actions: {\n    async login({dispatch, commit}, payload) {\n      let  data  = await this.$api.auth.login(payload)\n      await commit('SET_TOKEN', data.data)\n    },\n  },\n  mutations: {\n    [SET_TOKEN](state, payload) {\n     \n      if (payload.access_token !== undefined) {\n        Cookie.set('token', payload.access_token)\n        state.token = payload.access_token\n      }\n    },\n  },\n};"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,WAAnB;AAEA,IAAMC,SAAS,GAAG,WAAlB;AAGA,eAAe;EACbC,UAAU,EAAE,IADC;EAEbC,KAAK,EAAE;IACHC,KAAK,EAAEJ,MAAM,CAACK,GAAP,CAAW,OAAX,KAAuB;EAD3B,CAFM;EAMbC,OAAO,EAAE;IACPF,KAAK,EAAE,eAAAD,KAAK;MAAA,OAAIA,KAAK,CAACC,KAAV;IAAA;EADL,CANI;EAUbG,OAAO,EAAE;IACDC,KADC,uBACyBC,OADzB,EACkC;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAA5BC,QAA4B,QAA5BA,QAA4B,EAAlBC,MAAkB,QAAlBA,MAAkB;gBAAA;gBAAA,OACpB,KAAI,CAACC,IAAL,CAAUC,IAAV,CAAeL,KAAf,CAAqBC,OAArB,CADoB;;cAAA;gBAClCK,IADkC;gBAAA;gBAAA,OAEjCH,MAAM,CAAC,WAAD,EAAcG,IAAI,CAACA,IAAnB,CAF2B;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAGxC;EAJM,CAVI;EAgBbC,SAAS,sBACNd,SADM,YACKE,KADL,EACYM,OADZ,EACqB;IAE1B,IAAIA,OAAO,CAACO,YAAR,KAAyBC,SAA7B,EAAwC;MACtCjB,MAAM,CAACkB,GAAP,CAAW,OAAX,EAAoBT,OAAO,CAACO,YAA5B;MACAb,KAAK,CAACC,KAAN,GAAcK,OAAO,CAACO,YAAtB;IACD;EACF,CAPM;AAhBI,CAAf"},"metadata":{},"sourceType":"module"}